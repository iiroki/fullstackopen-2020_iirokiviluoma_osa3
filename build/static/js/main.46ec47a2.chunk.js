(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{15:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(14),u=t.n(l),c=(t(5),t(2)),o=t(3),i=t.n(o),m="/api/persons",d=function(){return i.a.get(m).then((function(e){return e.data}))},f=function(e){return i.a.post(m,e).then((function(e){return e.data}))},h=function(e){var n="".concat(m,"/").concat(e);return i.a.delete(n).then((function(e){return e}))},s=function(e){return r.a.createElement("form",null,r.a.createElement("div",null,"Search: ",r.a.createElement("input",{value:e.filter,onChange:e.handleChange})))},b=function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,"Add new number"),r.a.createElement("form",{onSubmit:e.add},r.a.createElement("div",null,"Name: ",r.a.createElement("input",{value:e.name,onChange:e.handleNameChange})),r.a.createElement("div",null,"Number: ",r.a.createElement("input",{value:e.number,onChange:e.handleNumberChange})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Add new number"))))},E=function(e){var n=e.name,t=e.number,a=e.handleDel;return r.a.createElement("li",null,n,": ",t,r.a.createElement("button",{onClick:a},"Delete"))},v=function(e){var n=e.persons,t=e.delHandler;return r.a.createElement("div",null,r.a.createElement("h2",null,"Numbers"),r.a.createElement("ul",null,n.map((function(e){return r.a.createElement(E,{key:e.name,name:e.name,number:e.number,handleDel:function(){return t(e.id)}})}))))},p=0,g=1,O=function(e){var n=e.msg,t=e.type;return null===n?null:t===p?r.a.createElement("div",{className:"notification_good"},n):t===g?r.a.createElement("div",{className:"notification_bad"},n):void 0},j=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],l=n[1],u=Object(a.useState)(""),o=Object(c.a)(u,2),i=o[0],m=o[1],E=Object(a.useState)(""),j=Object(c.a)(E,2),C=j[0],N=j[1],S=Object(a.useState)(""),w=Object(c.a)(S,2),y=w[0],D=w[1],k=Object(a.useState)(null),A=Object(c.a)(k,2),x=A[0],H=A[1],J=Object(a.useState)(p),L=Object(c.a)(J,2),_=L[0],B=L[1];Object(a.useEffect)((function(){d().then((function(e){l(e)}))}),[]);var I=function(e,n){B(n),H(e),setTimeout((function(){H(null)}),3e3)};return r.a.createElement("div",null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement(O,{msg:x,type:_}),r.a.createElement(s,{filter:y,handleChange:function(e){D(e.target.value)}}),r.a.createElement(b,{add:function(e){e.preventDefault(),0!==i.length&&0!==C.length&&(f({name:i,number:C}).then((function(e){l(t.concat(e)),m(""),N("")})),I("Added: ".concat(i),p))},name:i,handleNameChange:function(e){m(e.target.value)},number:C,handleNumberChange:function(e){N(e.target.value)}}),r.a.createElement(v,{persons:""===y?t:t.filter((function(e){return-1!==e.name.toLowerCase().indexOf(y.toLowerCase())})),delHandler:function(e){var n=t.find((function(n){return n.id===e}));window.confirm("Delete ".concat(n.name,"?"))&&(h(e).then((function(e){console.log(e)})).catch((function(e){I("Error: ".concat(n.name," is already deleted from server."),g)})),l(t.filter((function(n){return n.id!==e}))),I("Deleted: ".concat(n.name),p))}}))};u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root"))},5:function(e,n,t){}},[[15,1,2]]]);
//# sourceMappingURL=main.46ec47a2.chunk.js.map